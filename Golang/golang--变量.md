# golang--变量
---

# 定义
## var关键字
可以使用var关键字定义变量，语法如下：
```
var name type = exception
```
type和exception可以省略一个。如果type省略，变量类型将有exception决定，叫做“**类型推断**”；如果exception省略，那么初始值对应于类型的零值：

- 对于数字是0
- 对于布尔值是false
- 对于字符串是""
- 对于接口和引用类型(slice、指针、map、通道、函数)是nil

## 简短模式
还可以使用简短模式定义变量：
```
name := exception
```
但是有些限制：

- 定义变量时必须显示初始化
- 不能提供数据类型
- 只能定义在函数内部

简短模式并不总是重新定义变量，也可能是部分退化的赋值操作：
```golang
func main(){
    x := 100;
    
    x, y := 200, "abc"  //仅有y是变量定义
}
```
退化赋值的前提条件是：最少有一个新变量被定义，且必须是同一作用域。下面的做法是错误的；
```golang
func main(){
    x := 100
    {
        x, y := 200, 300   //不同作用域
    }
}
```

## 多变量赋值
上述两种声明方法均支持多变量赋值：
```golang
func main(){
    x, y := 100, 300
    x, y = y+3, x+2   //先计算出右值，然后再赋值给x, y
}
```
