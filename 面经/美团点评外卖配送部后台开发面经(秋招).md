# 美团点评外卖配送部面经

## 一面

- 自我介绍
- ReentrantLock和Synchronized的区别
- 公平锁非公平锁，ReentrantLock怎么实现非公平锁，非公平锁有什么好处(吞吐量高)
- 乐观锁和悲观锁，Synchronized是乐观锁还是悲观锁
- CAS机制
- 轻量级锁、偏向锁、重量级锁
- Synchronized实现原理
- volatile怎么保证可见性，能不能保证原子性
- 以i++为例说明为什么线程不安全
- ThreadLocal内部数据结构，弱引用，什么时候会出现内存泄漏，ThreadLocal在什么框架中用到过(MyBatis，session连接)
- 知道哪几种设计模式，ReentrantLock的模板模式知道不，责任链模式说一下
- ReentrantLock内部实现原理
- 线程池coresize，maxsize，队列是怎么回事，画一下，有四种什么机制(没听明白，好像说什么时候扩容，什么时候抛异常)
- 阻塞队列了解那些，ArrayBlockingQueue讲一下，是不是有界的
- jdk1.7和jdk1.8的HashMap有什么区别
- Java线程间通信有哪些方式
- String为什么是不可变的，有什么好处
- linux常用的查询日志的命令，怎么将日志导入文件中(>)

算法
- 二叉树中序遍历
- 两个链表相加(模拟整数的加法)


## 二面
- 为什么不留在腾讯了
- 实习的时候解决过什么问题
- PBFT算法讲一下，怎么选主节点的，如果主节点崩坏之后，新选的主节点上不是最新的数据怎么办
- raft算法怎么选主节点(term和logid)，脑裂怎么办
- HashMap的扩容，计算Hash是怎么计算的
- B+和B树的区别，画一下B+树，为什么MySQL使用B+树做索引
- Hash冲突的解决方式，HashMap用的什么，Java中有用到开放地址的吗(ThreadLocal的ThreadLocalMap)
- LRU有哪几种实现方法
- 常用的排序算法，那些是稳定的，如果让设计一个排序算法，待排序数组可能有一两个数，可能有十几个，可能有上百个，使用哪些排序算法(回答的是数很少的时候用插入排序，多一点使用快排，再多使用归并排序)
- 归并排序和堆排序有什么不同，数据量多用堆排还是归并排序
- 快排怎么优化(回答了三数取中法)
- netty的大概框架画一下，reactor模型
- nio aio bio区别
- netty的内存分配策略
- 实习时间

算法
- 判断一个单链表中是否有环
- 给定一个数组，使用两个线程，如果数组中当前位置的元素为偶数，使用线程1打印，如果是奇数，使用线程2打印